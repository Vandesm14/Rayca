<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>RAYCA, the only Random ASCII You Can Admire</title>

    <!-- Primary Meta Tags -->
    <title>RAYCA</title>
    <meta name="title" content="RAYCA">
    <meta name="description" content="We are the world's largest and only marketplace for NFTs that you can say you own.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rayca.art/">
    <meta property="og:title" content="RAYCA">
    <meta property="og:description" content="We are the world's largest and only marketplace for NFTs that you can say you own.">
    <!-- <meta property="og:image" content="https://rayca.art/assets/meta-tags-16a33a6a8531e519cc0936fbba0ad904e52d35f34a46c97a2c9f6f7dd7d336f2.png"> -->

    <!-- Twitter -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:url" content="https://rayca.art/">
    <meta property="twitter:title" content="RAYCA">
    <meta property="twitter:description" content="We are the world's largest and only marketplace for NFTs that you can say you own.">
    <!-- <meta property="twitter:image" content="https://rayca.art/assets/meta-tags-16a33a6a8531e519cc0936fbba0ad904e52d35f34a46c97a2c9f6f7dd7d336f2.png"> -->

    <style>
      @font-face {
        src: url("assets/SpaceMono-Regular.ttf");
        font-family: "Space Mono";
        font-weight: 400;
        font-style: normal;
      }
      @font-face {
        src: url("assets/SpaceMono-RegularItalic.ttf");
        font-family: "Space Mono";
        font-weight: 400;
        font-style: italic;
      }
      @font-face {
        src: url("assets/SpaceMono-Bold.ttf");
        font-family: "Space Mono";
        font-weight: 700;
        font-style: normal;
      }
      @font-face {
        src: url("assets/SpaceMono-BoldItalic.ttf");
        font-family: "Space Mono";
        font-weight: 700;
        font-style: italic;
      }

      @font-face {
        src: url("assets/Montserrat-Black.ttf");
        font-family: "Montserrat";
        font-weight: 900;
        font-style: normal;
      }
      @font-face {
        src: url("assets/Montserrat-BlackItalic.ttf");
        font-family: "Montserrat";
        font-weight: 900;
        font-style: italic;
      }

      :root { font-size: max(1rem, 18px); }

      html { scroll-behavior: smooth; }
      body {
        padding: 0 2rem;

        background-color: hsl(0, 0%, 99.6%);
        color: hsl(0, 0%, 14.1%);

        font-family: "Space Mono", "Courier New", "Courier", monospace;
        line-height: 1.4;
      }
      body > * {
        max-width: 45rem;
        margin: 3rem auto;
      }

      h1, h2 {
        font-family: "Montserrat", "Arial", "Helvetica", sans-serif;
        line-height: 1.2;
        text-transform: uppercase;
      }

      a { opacity: 0.85; }
      a:hover, a:focus { opacity: 1; }

      main { max-width: 70rem; }
      main > h2 {
        max-width: 45rem;
        margin-inline: auto;
      }

      footer {
        position: sticky;
        bottom: 2rem;

        width: 2rem;
        height: 2rem;
        margin-inline: auto 0;

        line-height: 2rem;
        text-align: center;

        border-radius: 3px;

        background-color: hsla(0, 0%, 99.6%, 0.85);
      }
      footer > a {
        display: block;
        width: 100%;
        height: 100%;
      }

      .list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr));
        gap: 1rem;
        place-items: center;
      }

      .card {
        width: fit-content;
        padding: 1rem 2rem;
        text-align: center;
      }
      .card > * { display: block; }
    </style>
  </head>

  <body>
    <header>
      <h1>Discover and collect computer-generated NFTs</h1>
      <p>
        We are the world's largest and <strong>only</strong> marketplace for
        NFTs that you can <em>say</em> you own.
      </p>
      <a href="#our-art">&darr; See our art &darr;</a>

      <section id="what-is-rayca">
        <h2><a href="#what-is-rayca">#</a> What is RAYCA?</h2>
        <p>
          <b><def>RAYCA</def></b> is a collection of <b>R</b>andom <b>A</b>SCII
          that <b>Y</b>ou <b>C</b>an <b>A</b>dmire; procedurally generated by a
          computer using the simplest of algorithms.
        </p>
        <p>
          We autonomously curate the generated art, such that it is
          <i>smooshed</i> into a format resembling a random token that you can
          <strong>pseudo</strong>-own.
        </p>
        <p>
          All the art generated can easily be viewed on this site by holding on
          to the tokens you collect.
        </p>
      </section>

      <section id="who-is-rayca">
        <h2><a href="#who-is-rayca">#</a> Who is RAYCA?</h2>
        <p>
          We are a <a href="https://thedevbird.com" title="Shane">couple</a> of
          <a href="https://leonski.dev" title="Leon">friends</a> who think you
          should have access to the freshest computer-generated art.
        </p>
        <p>
          That's why all the art you see here is generated
          <strong>on-the-fly</strong> for your viewing pleasure.
        </p>
      </section>
    </header>

    <main id="our-art">
      <h2><a href="#our-art">#</a> Our art</h2>
    </main>

    <footer>
      <a href="#" title="Back to top">&uarr;</a>
    </footer>

    <script defer>
      const WIDTH = 20;
      const HEIGHT = 10;
      const CHARS = [" ", "-", "="];

      function gen() {
        return Array(WIDTH * HEIGHT).fill(0).map(() => {
          return Math.floor(Math.random() * CHARS.length);
        });
      }

      function comp(data) {
        return Array((WIDTH * HEIGHT) / 4).fill(0).map((c, i) => {
          i = i * 4;
          return (data[i + 3] << 6) | (data[i + 2] << 4) | (data[i + 1] << 2) | data[i];
        });
      }

      function decomp(data) {
        return Array(WIDTH * HEIGHT).fill(0).map((c, i) => {
          return ((data[Math.floor(i / 4)] >> (i % 4) * 2) & 0x3);
        });
      }

      function ser(data) {
        return btoa(data.map((v) => String.fromCodePoint(v)).join(""));
      }

      function deser(data) {
        return atob(data).split("").map((v) => v.codePointAt(0));
      }

      function view(data) {
        let res = `┌${"─".repeat(20)}┐\n|`;
        for (let i = 0; i < data.length; i++) {
          if (i % WIDTH === 0 && i !== 0) res += "│\n│";
          res += CHARS[data[i]];
        }
        return res + `|\n└${"─".repeat(20)}┘`;
      }

      function card() {
        const art = gen();

        const card = document.createElement("div");
        card.setAttribute("aria-label", "art");
        card.classList.add("card");

        const ascii = document.createElement("code");
        ascii.innerHTML = view(art).replace(/ /g, "&nbsp;").replace(/\n/g, "<br>");

        const cta = document.createElement("a");
        cta.href = "?token=" + ser(comp(art));
        cta.innerText = "Own a copy of this hyper-link";
        cta.addEventListener("click", (e) => {
          e.preventDefault();
          navigator.clipboard.writeText(cta.href);

          const originalInnerText = cta.innerText;
          cta.innerText = "Copied!";
          setTimeout(() => cta.innerText = originalInnerText, 2000);
        });

        card.appendChild(ascii);
        card.appendChild(cta);

        return card;
      }

      const INF_SCROLL_OFF = 400;
      const CARDS_TO_INSERT = 16;

      const artList = document.createElement("div");
      artList.classList.add("list");
      document.getElementById("our-art").appendChild(artList);

      function nextCards() {
        for (let i = 0; i < CARDS_TO_INSERT; i++) {
          artList.appendChild(card());
        }
      }
      nextCards();

      document.addEventListener("scroll", () => {
        const { scrollTop, scrollHeight, clientHeight } = document.documentElement;
        if (scrollTop + clientHeight >= scrollHeight - INF_SCROLL_OFF) {
          nextCards();
        }
      }, { passive: true });
    </script>
  </body>
</html>
